<div ng-controller="DynamicFormController">
    <div ng-repeat="survey in formHistory">
        
        <h3>{{survey.form_title}}</h3>
        <p>{{survey.form_description}}</p>
        <button ng-click="questions = !questions">SHOW QUESTIONS</button>
        <button ng-click="setActive(survey)">SET AS ACTIVE SURVEY</button>
        <button ng-click="responses = !responses">VIEW RESPONSES</button>
        </br><br />
        <div ng-show="questions" ng-repeat="question in survey.form_questions">
            <h4>{{question.title}}</h4>
            <h5><em>{{question.desc}}</em></h5>

            <div ng-show="question.options.length == 0"><input type=text class="formInput_shortAnswer" /></div>
              <div ng-repeat="option in question.options">
                  <input type="checkbox" /> {{option.title}}
              </div>
            </br>
            </br>


        </div>

        <div ng-show="responses">
            <div ng-repeat="response in survey.form_questions">
              <h4 style="cursor: pointer;" ng-click="showAnswers = !showAnswers">{{response.title}}</h4>
                <div ng-show="showAnswers">{{formAnswers.data[survey.id - 1]}}</div>
            </div>


            </br>
            </br>


        </div>
    </div>
</div>
